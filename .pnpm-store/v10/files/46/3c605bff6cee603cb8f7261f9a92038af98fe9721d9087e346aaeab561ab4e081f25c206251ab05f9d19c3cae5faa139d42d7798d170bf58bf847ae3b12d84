{"version":3,"sources":["/home/runner/work/kubb/kubb/packages/plugin-oas/dist/hooks.cjs","../src/hooks/index.ts","../src/hooks/useOas.ts","../src/hooks/useOperation.ts","../src/hooks/useOperationManager.ts","../src/hooks/useOperations.ts"],"names":["useContext"],"mappings":"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","file":"/home/runner/work/kubb/kubb/packages/plugin-oas/dist/hooks.cjs","sourcesContent":[null,"export { useOas } from './useOas.ts'\nexport { useOperation } from './useOperation.ts'\nexport { useOperationManager } from './useOperationManager.ts'\nexport { useOperations } from './useOperations.ts'\nexport { useSchema } from './useSchema.ts'\n","import { useContext } from '@kubb/react'\n\nimport { Oas } from '../components/Oas.tsx'\n\nimport type { Oas as OasType } from '@kubb/oas'\n\nexport function useOas(): OasType {\n  const { oas } = useContext(Oas.Context)\n\n  if (!oas) {\n    throw new Error('Oas is not defined')\n  }\n\n  return oas\n}\n","import { useContext } from '@kubb/react'\n\nimport { Operation } from '../components/Operation.tsx'\n\nimport type { Operation as OperationType } from '@kubb/oas'\n\n/**\n * `useOperation` will return the current `Operation`\n */\nexport function useOperation(): OperationType {\n  const { operation } = useContext(Operation.Context)\n\n  if (!operation) {\n    throw new Error('Operation is not defined')\n  }\n\n  return operation\n}\n","import { useApp, useContext } from '@kubb/react'\n\nimport { Oas } from '../components/Oas.tsx'\n\nimport type { FileMetaBase, Plugin, ResolveNameParams } from '@kubb/core'\nimport type * as KubbFile from '@kubb/fs/types'\nimport type { Operation, Operation as OperationType } from '@kubb/oas'\nimport type { OperationSchemas } from '../types.ts'\n\ntype FileMeta = FileMetaBase & {\n  pluginKey: Plugin['key']\n  name: string\n  tag?: string\n}\n\ntype SchemaNames = {\n  request: string | undefined\n  parameters: {\n    path: string | undefined\n    query: string | undefined\n    header: string | undefined\n  }\n  responses: { default?: string } & Record<number | string, string>\n  errors: Record<number | string, string>\n}\n\ntype UseOperationManagerResult = {\n  getName: (operation: OperationType, params: { pluginKey?: Plugin['key']; type: ResolveNameParams['type'] }) => string\n  getFile: (operation: OperationType, params?: { pluginKey?: Plugin['key']; extName?: KubbFile.Extname }) => KubbFile.File<FileMeta>\n  groupSchemasByName: (operation: OperationType, params: { pluginKey?: Plugin['key']; type: ResolveNameParams['type'] }) => SchemaNames\n  getSchemas: (\n    operation: Operation,\n    params?: { pluginKey?: Plugin['key']; type?: ResolveNameParams['type'] },\n    forStatusCode?: string | number,\n  ) => OperationSchemas\n}\n\n/**\n * `useOperationManager` will return some helper functions that can be used to get the operation file, get the operation name.\n */\nexport function useOperationManager(): UseOperationManagerResult {\n  const { plugin, pluginManager } = useApp()\n  const { generator } = useContext(Oas.Context)\n\n  if (!generator) {\n    throw new Error(`'generator' is not defined`)\n  }\n\n  const getName: UseOperationManagerResult['getName'] = (operation, { pluginKey = plugin.key, type }) => {\n    return pluginManager.resolveName({\n      name: operation.getOperationId(),\n      pluginKey,\n      type,\n    })\n  }\n\n  const getFile: UseOperationManagerResult['getFile'] = (operation, { pluginKey = plugin.key, extName = '.ts' } = {}) => {\n    // needed for the `output.group`\n    const tag = operation.getTags().at(0)?.name\n    const name = getName(operation, { type: 'file', pluginKey })\n\n    const file = pluginManager.getFile({\n      name,\n      extName,\n      pluginKey,\n      options: { type: 'file', pluginKey, tag },\n    })\n\n    return {\n      ...file,\n      meta: {\n        ...file.meta,\n        name,\n        pluginKey,\n        tag,\n      },\n    }\n  }\n\n  const groupSchemasByName: UseOperationManagerResult['groupSchemasByName'] = (operation, { pluginKey = plugin.key, type }) => {\n    const schemas = generator.getSchemas(operation)\n\n    const errors = (schemas.errors || []).reduce(\n      (prev, acc) => {\n        if (!acc.statusCode) {\n          return prev\n        }\n\n        prev[acc.statusCode] = pluginManager.resolveName({\n          name: acc.name,\n          pluginKey,\n          type,\n        })\n\n        return prev\n      },\n      {} as Record<number, string>,\n    )\n\n    return {\n      request: schemas.request?.name\n        ? pluginManager.resolveName({\n            name: schemas.request.name,\n            pluginKey,\n            type,\n          })\n        : undefined,\n      parameters: {\n        path: schemas.pathParams?.name\n          ? pluginManager.resolveName({\n              name: schemas.pathParams.name,\n              pluginKey,\n              type,\n            })\n          : undefined,\n        query: schemas.queryParams?.name\n          ? pluginManager.resolveName({\n              name: schemas.queryParams.name,\n              pluginKey,\n              type,\n            })\n          : undefined,\n        header: schemas.headerParams?.name\n          ? pluginManager.resolveName({\n              name: schemas.headerParams.name,\n              pluginKey,\n              type,\n            })\n          : undefined,\n      },\n      responses: {\n        [schemas.response.statusCode || 'default']: pluginManager.resolveName({\n          name: schemas.response.name,\n          pluginKey,\n          type,\n        }),\n        ['default']: pluginManager.resolveName({\n          name: schemas.response.name,\n          pluginKey,\n          type,\n        }),\n        ...errors,\n      },\n      errors,\n    }\n  }\n\n  return {\n    getName,\n    getFile,\n    getSchemas: (operation, params, forStatusCode) =>\n      generator.getSchemas(operation, {\n        forStatusCode,\n        resolveName: (name) =>\n          pluginManager.resolveName({\n            name,\n            pluginKey: params?.pluginKey,\n            type: params?.type,\n          }),\n      }),\n    groupSchemasByName,\n  }\n}\n","import { useContext } from '@kubb/react'\n\nimport { Oas } from '../components/Oas.tsx'\n\nimport type { HttpMethod, Operation } from '@kubb/oas'\n\ntype UseOperationsProps = {\n  /**\n   * Filter based on path\n   * Weight: 2\n   */\n  path?: string\n  /**\n   * Filter based on method\n   * Weight: 1\n   */\n  method?: HttpMethod\n}\n\n/**\n * `useOperations` will return all the Operations\n */\nexport function useOperations({ method, path }: UseOperationsProps = {}): Operation[] {\n  const { operations } = useContext(Oas.Context)\n\n  if (!operations) {\n    throw new Error('Operations is not defined')\n  }\n  let items = operations\n\n  if (path) {\n    items = items.filter((item) => item.path === path)\n  }\n\n  if (method) {\n    items = items.filter((item) => item.method === method)\n  }\n\n  return items\n}\n"]}