{"version":3,"sources":["/home/runner/work/kubb/kubb/packages/core/dist/chunk-CUNH5H3L.cjs","../src/logger.ts","../../../node_modules/.pnpm/tinyrainbow@1.2.0/node_modules/tinyrainbow/dist/node.js","../../../node_modules/.pnpm/tinyrainbow@1.2.0/node_modules/tinyrainbow/dist/chunk-BVHSVHOK.js","../src/utils/EventEmitter.ts"],"names":["r","p"],"mappings":"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","file":"/home/runner/work/kubb/kubb/packages/core/dist/chunk-CUNH5H3L.cjs","sourcesContent":[null,"import seedrandom from 'seedrandom'\nimport c, { createColors } from 'tinyrainbow'\n\nimport { EventEmitter } from './utils/EventEmitter.ts'\n\nimport type { ConsolaInstance } from 'consola'\nimport type { Ora } from 'ora'\nimport type { Formatter } from 'tinyrainbow'\n\n//TODO replace with verbose flag and debug flag\nexport const LogLevel = {\n  silent: 'silent',\n  info: 'info',\n  debug: 'debug',\n} as const\n\nexport const LogMapper = {\n  silent: Number.NEGATIVE_INFINITY,\n  info: 3,\n  debug: 4,\n} as const\n\nexport type LogLevel = keyof typeof LogLevel\n\ntype Events = {\n  start: [message: string]\n  end: [message: string]\n  error: [message: string, cause: Error]\n  warning: [message: string]\n  debug: [logs: string[]]\n}\nexport type Logger = {\n  /**\n   * Optional config name to show in CLI output\n   */\n  name?: string\n  logLevel: LogLevel\n  spinner?: Ora\n  consola?: ConsolaInstance\n  on: EventEmitter<Events>['on']\n  emit: EventEmitter<Events>['emit']\n}\n\ntype Props = {\n  name?: string\n  logLevel: LogLevel\n  spinner?: Ora\n  consola?: ConsolaInstance\n}\n\nexport function createLogger({ logLevel, name, spinner, consola }: Props): Logger {\n  const events = new EventEmitter<Events>()\n\n  events.on('start', (message) => {\n    if (spinner) {\n      spinner.start(message)\n    }\n  })\n\n  events.on('end', (message) => {\n    if (spinner) {\n      spinner.suffixText = ''\n      spinner.succeed(message)\n    }\n  })\n\n  events.on('warning', (message) => {\n    if (spinner) {\n      spinner.warn(c.yellow(message))\n    }\n  })\n\n  events.on('error', (message, cause) => {\n    const error = new Error(message || 'Something went wrong')\n    error.cause = cause\n\n    throw error\n  })\n\n  const logger: Logger = {\n    name,\n    logLevel,\n    spinner,\n    consola,\n    on: (...args) => {\n      return events.on(...args)\n    },\n    emit: (...args) => {\n      return events.emit(...args)\n    },\n  }\n\n  return logger\n}\n\nconst defaultColours = ['black', 'blue', 'darkBlue', 'cyan', 'gray', 'green', 'darkGreen', 'magenta', 'red', 'darkRed', 'yellow', 'darkYellow'] as const\n\nexport function randomColour(text?: string, colours = defaultColours): string {\n  if (!text) {\n    return 'white'\n  }\n\n  const random = seedrandom(text)\n  const colour = colours.at(Math.floor(random() * colours.length)) || 'white'\n\n  return colour\n}\n\nexport function randomCliColour(text?: string, colors = defaultColours): string {\n  const colours = createColors(true)\n\n  if (!text) {\n    return colours.white(text)\n  }\n\n  const colour = randomColour(text, colors)\n  const isDark = colour.includes('dark')\n  const key = colour.replace('dark', '').toLowerCase() as keyof typeof colours\n  const formatter: Formatter = colours[key] as Formatter\n\n  if (isDark) {\n    return c.bold(formatter(text))\n  }\n\n  if (typeof formatter !== 'function') {\n    throw new Error('Formatter for picoColor is not of type function/Formatter')\n  }\n  return formatter(text)\n}\n","import {\n  a as t,\n  b as e,\n  c as o\n} from \"./chunk-BVHSVHOK.js\";\n\n// src/node.ts\nimport { isatty as r } from \"tty\";\nvar p = o(r(1));\nexport {\n  o as createColors,\n  p as default,\n  t as getDefaultColors,\n  e as isSupported\n};\n","// src/index.ts\nvar f = {\n  reset: [0, 0],\n  bold: [1, 22, \"\\x1B[22m\\x1B[1m\"],\n  dim: [2, 22, \"\\x1B[22m\\x1B[2m\"],\n  italic: [3, 23],\n  underline: [4, 24],\n  inverse: [7, 27],\n  hidden: [8, 28],\n  strikethrough: [9, 29],\n  black: [30, 39],\n  red: [31, 39],\n  green: [32, 39],\n  yellow: [33, 39],\n  blue: [34, 39],\n  magenta: [35, 39],\n  cyan: [36, 39],\n  white: [37, 39],\n  gray: [90, 39],\n  bgBlack: [40, 49],\n  bgRed: [41, 49],\n  bgGreen: [42, 49],\n  bgYellow: [43, 49],\n  bgBlue: [44, 49],\n  bgMagenta: [45, 49],\n  bgCyan: [46, 49],\n  bgWhite: [47, 49],\n  blackBright: [90, 39],\n  redBright: [91, 39],\n  greenBright: [92, 39],\n  yellowBright: [93, 39],\n  blueBright: [94, 39],\n  magentaBright: [95, 39],\n  cyanBright: [96, 39],\n  whiteBright: [97, 39],\n  bgBlackBright: [100, 49],\n  bgRedBright: [101, 49],\n  bgGreenBright: [102, 49],\n  bgYellowBright: [103, 49],\n  bgBlueBright: [104, 49],\n  bgMagentaBright: [105, 49],\n  bgCyanBright: [106, 49],\n  bgWhiteBright: [107, 49]\n}, h = Object.entries(f);\nfunction a(n) {\n  return String(n);\n}\na.open = \"\";\na.close = \"\";\nvar B = /* @__PURE__ */ h.reduce(\n  (n, [e]) => (n[e] = a, n),\n  { isColorSupported: !1 }\n);\nfunction m() {\n  return { ...B };\n}\nfunction C(n = !1) {\n  let e = typeof process != \"undefined\" ? process : void 0, i = (e == null ? void 0 : e.env) || {}, g = (e == null ? void 0 : e.argv) || [];\n  return !(\"NO_COLOR\" in i || g.includes(\"--no-color\")) && (\"FORCE_COLOR\" in i || g.includes(\"--color\") || (e == null ? void 0 : e.platform) === \"win32\" || n && i.TERM !== \"dumb\" || \"CI\" in i) || typeof window != \"undefined\" && !!window.chrome;\n}\nfunction p(n = !1) {\n  let e = C(n), i = (r, t, c, o) => {\n    let l = \"\", s = 0;\n    do\n      l += r.substring(s, o) + c, s = o + t.length, o = r.indexOf(t, s);\n    while (~o);\n    return l + r.substring(s);\n  }, g = (r, t, c = r) => {\n    let o = (l) => {\n      let s = String(l), b = s.indexOf(t, r.length);\n      return ~b ? r + i(s, t, c, b) + t : r + s + t;\n    };\n    return o.open = r, o.close = t, o;\n  }, u = {\n    isColorSupported: e\n  }, d = (r) => `\\x1B[${r}m`;\n  for (let [r, t] of h)\n    u[r] = e ? g(\n      d(t[0]),\n      d(t[1]),\n      t[2]\n    ) : a;\n  return u;\n}\n\nexport {\n  m as a,\n  C as b,\n  p as c\n};\n","import { EventEmitter as NodeEventEmitter } from 'node:events'\n\nexport class EventEmitter<TEvents extends Record<string, any>> {\n  constructor() {\n    this.#emitter.setMaxListeners(100)\n  }\n  #emitter = new NodeEventEmitter()\n\n  emit<TEventName extends keyof TEvents & string>(eventName: TEventName, ...eventArg: TEvents[TEventName]): void {\n    this.#emitter.emit(eventName, ...(eventArg as []))\n  }\n\n  on<TEventName extends keyof TEvents & string>(eventName: TEventName, handler: (...eventArg: TEvents[TEventName]) => void): void {\n    this.#emitter.on(eventName, handler as any)\n  }\n\n  off<TEventName extends keyof TEvents & string>(eventName: TEventName, handler: (...eventArg: TEvents[TEventName]) => void): void {\n    this.#emitter.off(eventName, handler as any)\n  }\n  removeAll(): void {\n    this.#emitter.removeAllListeners()\n  }\n}\n"]}