import { t as __name } from "./chunk-jHaXqnEa.js";
import { defineCommand, showUsage } from "citty";
import process from "node:process";
import { createJiti } from "jiti";

//#region src/commands/validate.ts
const jiti = createJiti(import.meta.url, { sourceMaps: true });
const command = defineCommand({
	meta: {
		name: "validate",
		description: "Validate a Swagger/OpenAPI file"
	},
	args: {
		input: {
			type: "string",
			description: "Path to Swagger/OpenAPI file",
			alias: "i"
		},
		help: {
			type: "boolean",
			description: "Show help",
			alias: "h",
			default: false
		}
	},
	async run(commandContext) {
		const { args } = commandContext;
		if (args.help) return showUsage(command);
		if (args.input) {
			let mod;
			try {
				mod = await jiti.import("@kubb/oas", { default: true });
			} catch (_e) {
				console.error(`Import of '@kubb/oas' is required to do validation`);
			}
			const { parse } = mod;
			try {
				await (await parse(args.input)).validate();
				console.log("✅ Validation success");
			} catch (error) {
				console.error("❌ Validation failed");
				console.log(error?.message);
				process.exit(1);
			}
		}
	}
});
var validate_default = command;

//#endregion
export { validate_default as default };
//# sourceMappingURL=validate-BQJ4DDaA.js.map