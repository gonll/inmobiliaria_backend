{"version":3,"sources":["../src/utils/parseFromConfig.ts"],"sourcesContent":["import { resolve } from 'node:path'\n\nimport { URLPath } from '@kubb/core/utils'\n\nimport { parse } from '@kubb/oas/parser'\n\nimport type { Config } from '@kubb/core'\nimport { Oas, type OasTypes } from '@kubb/oas'\nimport yaml from '@stoplight/yaml'\n\nexport function parseFromConfig(config: Config, oasClass: typeof Oas = Oas): Promise<Oas> {\n  if ('data' in config.input) {\n    if (typeof config.input.data === 'object') {\n      const api: OasTypes.OASDocument = JSON.parse(JSON.stringify(config.input.data)) as OasTypes.OASDocument\n      return parse(api, oasClass)\n    }\n\n    try {\n      const api: string = yaml.parse(config.input.data as string) as string\n\n      return parse(api, oasClass)\n    } catch (e) {\n      /* empty */\n    }\n\n    const api: OasTypes.OASDocument = JSON.parse(JSON.stringify(config.input.data)) as OasTypes.OASDocument\n\n    return parse(api, oasClass)\n  }\n\n  if (new URLPath(config.input.path).isURL) {\n    return parse(config.input.path, oasClass)\n  }\n\n  return parse(resolve(config.root, config.input.path), oasClass)\n}\n"],"mappings":";;;;;AAAA;AAAA,SAAS,eAAe;AAExB,SAAS,eAAe;AAExB,SAAS,aAAa;AAGtB,SAAS,WAA0B;AACnC,OAAO,UAAU;AAEV,SAAS,gBAAgB,QAAgB,WAAuB,KAAmB;AACxF,MAAI,UAAU,OAAO,OAAO;AAC1B,QAAI,OAAO,OAAO,MAAM,SAAS,UAAU;AACzC,YAAMA,OAA4B,KAAK,MAAM,KAAK,UAAU,OAAO,MAAM,IAAI,CAAC;AAC9E,aAAO,MAAMA,MAAK,QAAQ;AAAA,IAC5B;AAEA,QAAI;AACF,YAAMA,OAAc,KAAK,MAAM,OAAO,MAAM,IAAc;AAE1D,aAAO,MAAMA,MAAK,QAAQ;AAAA,IAC5B,SAAS,GAAG;AAAA,IAEZ;AAEA,UAAM,MAA4B,KAAK,MAAM,KAAK,UAAU,OAAO,MAAM,IAAI,CAAC;AAE9E,WAAO,MAAM,KAAK,QAAQ;AAAA,EAC5B;AAEA,MAAI,IAAI,QAAQ,OAAO,MAAM,IAAI,EAAE,OAAO;AACxC,WAAO,MAAM,OAAO,MAAM,MAAM,QAAQ;AAAA,EAC1C;AAEA,SAAO,MAAM,QAAQ,OAAO,MAAM,OAAO,MAAM,IAAI,GAAG,QAAQ;AAChE;","names":["api"]}